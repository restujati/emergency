<?phpdefined('BASEPATH') OR exit('No direct script access allowed');Class Custom_resize {	protected $CI;    public function __construct()    {    	$this->CI =& get_instance();    }	public function compress_image($fname, $from) {		$this->CI->load->library('image_lib');		if(strcmp($from, "image") == 0) {			$dir = 'image/original';			$new_dir = 'image/compressed';		}		$config_manip['image_library'] = 'gd2';		$config_manip['source_image'] = "./assets/upload/" . $dir ."/" . $fname;		$config_manip['maintain_ratio'] = true;		$config_manip['new_image'] = "./assets/upload/" . $new_dir ."/" . $fname;		if(strcmp($from, "image") == 0) {			$config_manip['width'] = '300';			$config_manip['height'] = '300';		}        else{			$config_manip['width'] = '70';			$config_manip['height'] = '70';		}		$config_manip['encrypt_name'] = TRUE;		$this->CI->image_lib->initialize($config_manip);		$this->CI->image_lib->resize();	}	public function remove_image($fname, $from){		$this->CI->load->library('ftp');        if(strcmp($from, "image") == 0) {            $dir = 'assets/upload/image/original';            $com_dir = 'assets/upload/image/compressed';        }		if(file_exists("./" . $dir ."/" . $fname) && !is_dir("./" . $dir ."/" . $fname))		{			unlink("./" . $dir ."/" . $fname);		}		if(file_exists("./" . $com_dir ."/" . $fname) && !is_dir("./" . $com_dir ."/" . $fname))		{			unlink("./" . $com_dir ."/" . $fname);		}	}}